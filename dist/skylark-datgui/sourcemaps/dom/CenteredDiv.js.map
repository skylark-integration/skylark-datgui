{"version":3,"sources":["dom/CenteredDiv.js"],"names":["define","dom","common","[object Object]","this","backgroundElement","document","createElement","extend","style","backgroundColor","top","left","display","zIndex","opacity","WebkitTransition","transition","makeFullscreen","position","domElement","body","appendChild","_this","bind","hide","webkitTransform","layout","defer","unbind","window","innerWidth","getWidth","innerHeight","getHeight"],"mappings":";;;;;;;AAAAA,QACI,aACA,mBACD,SAAUC,EAAKC,GACd,aAkEA,aAhEIC,cACIC,KAAKC,kBAAoBC,SAASC,cAAc,OAChDL,EAAOM,OAAOJ,KAAKC,kBAAkBI,OACjCC,gBAAiB,kBACjBC,IAAK,EACLC,KAAM,EACNC,QAAS,OACTC,OAAQ,OACRC,QAAS,EACTC,iBAAkB,sBAClBC,WAAY,wBAEhBhB,EAAIiB,eAAed,KAAKC,mBACxBD,KAAKC,kBAAkBI,MAAMU,SAAW,QACxCf,KAAKgB,WAAad,SAASC,cAAc,OACzCL,EAAOM,OAAOJ,KAAKgB,WAAWX,OAC1BU,SAAU,QACVN,QAAS,OACTC,OAAQ,OACRC,QAAS,EACTC,iBAAkB,uDAClBC,WAAY,iDAEhBX,SAASe,KAAKC,YAAYlB,KAAKC,mBAC/BC,SAASe,KAAKC,YAAYlB,KAAKgB,YAC/B,MAAMG,EAAQnB,KACdH,EAAIuB,KAAKpB,KAAKC,kBAAmB,QAAS,WACtCkB,EAAME,SAGdtB,OACI,MAAMoB,EAAQnB,KACdA,KAAKC,kBAAkBI,MAAMI,QAAU,QACvCT,KAAKgB,WAAWX,MAAMI,QAAU,QAChCT,KAAKgB,WAAWX,MAAMM,QAAU,EAChCX,KAAKgB,WAAWX,MAAMiB,gBAAkB,aACxCtB,KAAKuB,SACLzB,EAAO0B,MAAM,WACTL,EAAMlB,kBAAkBI,MAAMM,QAAU,EACxCQ,EAAMH,WAAWX,MAAMM,QAAU,EACjCQ,EAAMH,WAAWX,MAAMiB,gBAAkB,aAGjDvB,OACI,MAAMoB,EAAQnB,KACRqB,EAAO,WACTF,EAAMH,WAAWX,MAAMI,QAAU,OACjCU,EAAMlB,kBAAkBI,MAAMI,QAAU,OACxCZ,EAAI4B,OAAON,EAAMH,WAAY,sBAAuBK,GACpDxB,EAAI4B,OAAON,EAAMH,WAAY,gBAAiBK,GAC9CxB,EAAI4B,OAAON,EAAMH,WAAY,iBAAkBK,IAEnDxB,EAAIuB,KAAKpB,KAAKgB,WAAY,sBAAuBK,GACjDxB,EAAIuB,KAAKpB,KAAKgB,WAAY,gBAAiBK,GAC3CxB,EAAIuB,KAAKpB,KAAKgB,WAAY,iBAAkBK,GAC5CrB,KAAKC,kBAAkBI,MAAMM,QAAU,EACvCX,KAAKgB,WAAWX,MAAMM,QAAU,EAChCX,KAAKgB,WAAWX,MAAMiB,gBAAkB,aAE5CvB,SACIC,KAAKgB,WAAWX,MAAMG,KAAOkB,OAAOC,WAAa,EAAI9B,EAAI+B,SAAS5B,KAAKgB,YAAc,EAAI,KACzFhB,KAAKgB,WAAWX,MAAME,IAAMmB,OAAOG,YAAc,EAAIhC,EAAIiC,UAAU9B,KAAKgB,YAAc,EAAI","file":"../../dom/CenteredDiv.js","sourcesContent":["define([\n    '../dom/dom',\n    '../utils/common'\n], function (dom, common) {\n    'use strict';\n    class CenteredDiv {\n        constructor() {\n            this.backgroundElement = document.createElement('div');\n            common.extend(this.backgroundElement.style, {\n                backgroundColor: 'rgba(0,0,0,0.8)',\n                top: 0,\n                left: 0,\n                display: 'none',\n                zIndex: '1000',\n                opacity: 0,\n                WebkitTransition: 'opacity 0.2s linear',\n                transition: 'opacity 0.2s linear'\n            });\n            dom.makeFullscreen(this.backgroundElement);\n            this.backgroundElement.style.position = 'fixed';\n            this.domElement = document.createElement('div');\n            common.extend(this.domElement.style, {\n                position: 'fixed',\n                display: 'none',\n                zIndex: '1001',\n                opacity: 0,\n                WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n                transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n            });\n            document.body.appendChild(this.backgroundElement);\n            document.body.appendChild(this.domElement);\n            const _this = this;\n            dom.bind(this.backgroundElement, 'click', function () {\n                _this.hide();\n            });\n        }\n        show() {\n            const _this = this;\n            this.backgroundElement.style.display = 'block';\n            this.domElement.style.display = 'block';\n            this.domElement.style.opacity = 0;\n            this.domElement.style.webkitTransform = 'scale(1.1)';\n            this.layout();\n            common.defer(function () {\n                _this.backgroundElement.style.opacity = 1;\n                _this.domElement.style.opacity = 1;\n                _this.domElement.style.webkitTransform = 'scale(1)';\n            });\n        }\n        hide() {\n            const _this = this;\n            const hide = function () {\n                _this.domElement.style.display = 'none';\n                _this.backgroundElement.style.display = 'none';\n                dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n                dom.unbind(_this.domElement, 'transitionend', hide);\n                dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n            };\n            dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n            dom.bind(this.domElement, 'transitionend', hide);\n            dom.bind(this.domElement, 'oTransitionEnd', hide);\n            this.backgroundElement.style.opacity = 0;\n            this.domElement.style.opacity = 0;\n            this.domElement.style.webkitTransform = 'scale(1.1)';\n        }\n        layout() {\n            this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n            this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n        }\n    }\n    return CenteredDiv;\n});"]}