{"version":3,"sources":["controllers/StringController.js"],"names":["define","Controller","dom","[object Object]","object","property","super","_this","this","onChange","setValue","__input","value","document","createElement","setAttribute","bind","__onFinishChange","call","getValue","e","keyCode","blur","updateDisplay","domElement","appendChild","isActive"],"mappings":";;;;;;;AAAAA,QACI,eACA,cACD,SAAUC,EAAYC,GACrB,aAiCA,qBAhC+BD,EAC3BE,YAAYC,EAAQC,GAChBC,MAAMF,EAAQC,GACd,MAAME,EAAQC,KACd,SAASC,IACLF,EAAMG,SAASH,EAAMI,QAAQC,OAOjCJ,KAAKG,QAAUE,SAASC,cAAc,SACtCN,KAAKG,QAAQI,aAAa,OAAQ,QAClCb,EAAIc,KAAKR,KAAKG,QAAS,QAASF,GAChCP,EAAIc,KAAKR,KAAKG,QAAS,SAAUF,GACjCP,EAAIc,KAAKR,KAAKG,QAAS,OATvB,WACQJ,EAAMU,kBACNV,EAAMU,iBAAiBC,KAAKX,EAAOA,EAAMY,cAQjDjB,EAAIc,KAAKR,KAAKG,QAAS,UAAW,SAAUS,GACtB,KAAdA,EAAEC,SACFb,KAAKc,SAGbd,KAAKe,gBACLf,KAAKgB,WAAWC,YAAYjB,KAAKG,SAErCR,gBAII,OAHKD,EAAIwB,SAASlB,KAAKG,WACnBH,KAAKG,QAAQC,MAAQJ,KAAKW,YAEvBb,MAAMiB","file":"../../controllers/StringController.js","sourcesContent":["define([\n    './Controller',\n    '../dom/dom'\n], function (Controller, dom) {\n    'use strict';\n    class StringController extends Controller {\n        constructor(object, property) {\n            super(object, property);\n            const _this = this;\n            function onChange() {\n                _this.setValue(_this.__input.value);\n            }\n            function onBlur() {\n                if (_this.__onFinishChange) {\n                    _this.__onFinishChange.call(_this, _this.getValue());\n                }\n            }\n            this.__input = document.createElement('input');\n            this.__input.setAttribute('type', 'text');\n            dom.bind(this.__input, 'keyup', onChange);\n            dom.bind(this.__input, 'change', onChange);\n            dom.bind(this.__input, 'blur', onBlur);\n            dom.bind(this.__input, 'keydown', function (e) {\n                if (e.keyCode === 13) {\n                    this.blur();\n                }\n            });\n            this.updateDisplay();\n            this.domElement.appendChild(this.__input);\n        }\n        updateDisplay() {\n            if (!dom.isActive(this.__input)) {\n                this.__input.value = this.getValue();\n            }\n            return super.updateDisplay();\n        }\n    }\n    return StringController;\n});"]}